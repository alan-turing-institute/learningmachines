<div class="card">
  <div class="card-header">
    Patient ID: {{patient.id}}
    <div class="yearOfDiagnosis">
      {{patient.yearOfDiagnosis.getFullYear()}}
    </div>
  </div>
  <div class="card-block">
      <div class="card-text">
        <div class="clr-row">
          <div class="clr-col-6">
            <div [ngClass]="{'clr-form-control': true, 'clr-error': (patient.death.causeOfDeath!=patient.death.predictedCauseOfDeath.value)&&(showPredictionsFlag)}">
              <label class="clr-control-label">Predicted</label>
              <div class="clr-control-container">
                <div class="clr-checkbox-wrapper">
                  <input type="checkbox" id="checkbox10" 
                    [checked]="(patient.death.predictedCauseOfDeath.value=='class A') && (showPredictionsFlag)" 
                    disabled />
                  <label class="clr-control-label">Class A</label>
                </div>
                <div class="clr-checkbox-wrapper">
                  <input type="checkbox" id="checkbox11" 
                  [checked]="(patient.death.predictedCauseOfDeath.value=='class B') && (showPredictionsFlag)" disabled />
                  <label class="clr-control-label">Class B</label>
                </div>
                <div class="clr-subtext-wrapper" *ngIf="showPredictionsFlag">
                  <clr-icon class="clr-validate-icon" shape="exclamation-circle"></clr-icon>
                  <span class="clr-subtext">Confidence: {{patient.death.predictedCauseOfDeath.confidence}}%</span>
                </div>
              </div>
            </div>
          </div>
          <div class="clr-col-6">
            <clr-checkbox-container [ngClass]="{'clr-form-control': true, 'clr-error': (patient.death.causeOfDeath!=patient.death.predictedCauseOfDeath.value)&&(showPredictionsFlag)}">
              <label>Actual</label>
              <clr-checkbox-wrapper>
                <input type="checkbox" clrCheckbox name="options" [checked]="(patient.death.causeOfDeath=='class A') && (showPredictionsFlag)" disabled />
                <label>Class A</label>
              </clr-checkbox-wrapper>
              <clr-checkbox-wrapper>
                <input type="checkbox" clrCheckbox name="options" [checked]="(patient.death.causeOfDeath=='class B') && (showPredictionsFlag)"  disabled />
                <label>Class B</label>
              </clr-checkbox-wrapper>
            </clr-checkbox-container>
          </div>
        </div>
      </div>
  </div>
  <div class="card-footer">
    <button class="btn btn-sm btn-link" (click)="displayDetails()">More</button>
  </div>
</div>

<clr-modal [(clrModalOpen)]="opened" [clrModalSize]="'sm'">
  <h3 class="modal-title">Patient ID: {{patient.id}}</h3>
  <div class="modal-body">
    <clr-datagrid>
      <clr-dg-column>Patient Information</clr-dg-column>
      <clr-dg-column>Value</clr-dg-column>
      <clr-dg-row *ngFor="let info of patient.personalInfo">
          <clr-dg-cell>{{info.name}}</clr-dg-cell>
          <clr-dg-cell>{{info.value}}</clr-dg-cell>
      </clr-dg-row>
    </clr-datagrid>
    <clr-datagrid>
      <clr-dg-column>Patient Medical History</clr-dg-column>
      <clr-dg-column>Value</clr-dg-column>
      <clr-dg-column>Date Diagnosed</clr-dg-column>
      <clr-dg-column>Treatment</clr-dg-column>
      <clr-dg-column>Outcome</clr-dg-column>
      <clr-dg-column>Date of Outcome</clr-dg-column>
      <!-- <clr-dg-row *ngFor="let info of patient.personalInfo">
          <clr-dg-cell>{{info.name}}</clr-dg-cell>
          <clr-dg-cell>{{info.value}}</clr-dg-cell>
      </clr-dg-row> -->
    </clr-datagrid>
  </div>
  <div class="modal-footer">
      <button type="button" class="btn btn-outline" (click)="opened = false">Close</button>
  </div>
</clr-modal>